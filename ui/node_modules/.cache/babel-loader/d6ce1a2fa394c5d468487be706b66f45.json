{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryanarveseth\\\\Desktop\\\\Projects\\\\senior-project\\\\ui\\\\src\\\\components\\\\ImagePredictor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport ImageButton from \"./ImageButton\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mobilenet = require('@tensorflow-models/mobilenet');\n\nconst EmptyImage = styled.div`\n  background-color: lightGrey;\n  height: 320px; \n  width: 320px;\n  margin: 0 auto;\n`;\n_c = EmptyImage;\nconst ImageContainer = styled.div`\n  border-radius: 8px;\n`;\n_c2 = ImageContainer;\nconst Prediction = styled.div`\n  font-size: 20px;\n  color: white;\n  margin-bottom: 32px;\n`;\n_c3 = Prediction;\nconst Overlay = styled.div`\n  height: 100vh;\n  width: 100vw;\n  background: rgba(0,0,0,0.5);\n  position: fixed;\n  z-index: 2;\n  top: 0;\n  left: 0;\n`;\n_c4 = Overlay;\nconst Spinner = styled.div`\n  border-radius: 50%;\n  width: 2.5em;\n  height: 2.5em;\n  -webkit-animation-fill-mode: both;\n  animation-fill-mode: both;\n  -webkit-animation: load7 1.8s infinite ease-in-out;\n  animation: load7 1.8s infinite ease-in-out;\n  color: #20bf6b;\n  font-size: 10px;\n  margin: 80px auto;\n  position: relative;\n  text-indent: -9999em;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n  \n  z-index: 3;\n\n  &:before {\n    border-radius: 50%;\n    width: 2.5em;\n    height: 2.5em;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n    -webkit-animation: load7 1.8s infinite ease-in-out;\n    animation: load7 1.8s infinite ease-in-out;\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -3.5em;\n    -webkit-animation-delay: -0.32s;\n    animation-delay: -0.32s;\n  }\n  \n  &:after {\n    border-radius: 50%;\n    width: 2.5em;\n    height: 2.5em;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n    -webkit-animation: load7 1.8s infinite ease-in-out;\n    animation: load7 1.8s infinite ease-in-out;\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 3.5em;\n  }\n`;\n_c5 = Spinner;\n\nconst ImagePredictor = () => {\n  _s();\n\n  const [model, setModel] = useState();\n  const [img, setImg] = useState();\n  const [prediction, setPrediction] = useState();\n  const [showPrediction, setShowPrediction] = useState(false);\n\n  const readImageData = file => new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n\n    fileReader.onload = () => resolve(fileReader.result);\n\n    fileReader.onerror = () => reject(fileReader.error);\n\n    fileReader.readAsDataURL(file);\n  });\n\n  const selectImage = async e => {\n    const file = e.target.files[0];\n    setImg(await readImageData(file));\n  };\n\n  useEffect(() => {\n    const getMobileNet = async () => {\n      const modelData = await mobilenet.load();\n      setModel(modelData);\n    };\n\n    if (model === undefined) {\n      getMobileNet();\n    }\n  }, [model]);\n  useEffect(() => {\n    const getPrediction = async () => {\n      if (model !== undefined && img !== undefined) {\n        const inputImage = document.createElement('img');\n        inputImage.src = img;\n\n        inputImage.onload = async () => {\n          const predictionsData = await model.classify(inputImage, 1);\n          let {\n            className,\n            probability\n          } = predictionsData && predictionsData.length > 0 && predictionsData[0];\n          console.log(className);\n\n          if (className.includes(\"coyote\")) {\n            className = \"Coyote\";\n          } else if (className.includes(\"cougar\") || className.includes(\"mountain\") || className.includes(\"catamount\") || className.includes(\"puma\") || className.includes(\"panther\")) {\n            className = \"Cougar\";\n          } else if (className.includes(\"fox\")) {\n            className = \"Fox\";\n          } else if (className.includes(\"cat\")) {\n            className = \"Cat\";\n          } else if (className.includes(\"dog\")) {\n            className = \"Dog\";\n          } else {\n            className = `Unknown image. Is it a ${className.split(\",\").map(guess => guess.trim())[0]}?`;\n          }\n\n          setPrediction({\n            probability: probability,\n            className: className\n          });\n        };\n      }\n    };\n\n    if (img && model) {\n      getPrediction();\n    }\n  }, [model, img]);\n  useEffect(() => {\n    if (!prediction) {\n      setShowPrediction(false);\n    } else {\n      setTimeout(() => {\n        setShowPrediction(true);\n      }, 2000);\n    }\n  }, [prediction]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"What's in the picture? (Coyote, Cougar, Fox, Dog, Cat, or something else?)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Image recognition software build on tensorflow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), prediction && showPrediction && /*#__PURE__*/_jsxDEV(Prediction, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: prediction.className[0].toUpperCase() + prediction.className.slice(1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: `(${(prediction.probability * 100).toFixed(2)}% sure)`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ImageContainer, {\n      children: img ? /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"The item to be predicted\",\n        src: img,\n        height: 300\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(EmptyImage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImageButton, {\n      selectImage: selectImage,\n      setShowPrediction: setShowPrediction,\n      setPrediction: setPrediction\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: prediction && !showPrediction && /*#__PURE__*/_jsxDEV(Overlay, {\n        children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ImagePredictor, \"PZ0W5SLDufswRfECln05Ec0chOw=\");\n\n_c6 = ImagePredictor;\nexport default ImagePredictor;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"EmptyImage\");\n$RefreshReg$(_c2, \"ImageContainer\");\n$RefreshReg$(_c3, \"Prediction\");\n$RefreshReg$(_c4, \"Overlay\");\n$RefreshReg$(_c5, \"Spinner\");\n$RefreshReg$(_c6, \"ImagePredictor\");","map":{"version":3,"sources":["C:/Users/ryanarveseth/Desktop/Projects/senior-project/ui/src/components/ImagePredictor.js"],"names":["React","useState","useEffect","ImageButton","styled","mobilenet","require","EmptyImage","div","ImageContainer","Prediction","Overlay","Spinner","ImagePredictor","model","setModel","img","setImg","prediction","setPrediction","showPrediction","setShowPrediction","readImageData","file","Promise","resolve","reject","fileReader","FileReader","onload","result","onerror","error","readAsDataURL","selectImage","e","target","files","getMobileNet","modelData","load","undefined","getPrediction","inputImage","document","createElement","src","predictionsData","classify","className","probability","length","console","log","includes","split","map","guess","trim","setTimeout","toUpperCase","slice","toFixed"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport ImageButton from \"./ImageButton\";\r\nimport styled from \"styled-components\";\r\nconst mobilenet = require('@tensorflow-models/mobilenet');\r\n\r\n\r\nconst EmptyImage = styled.div`\r\n  background-color: lightGrey;\r\n  height: 320px; \r\n  width: 320px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst ImageContainer = styled.div`\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst Prediction = styled.div`\r\n  font-size: 20px;\r\n  color: white;\r\n  margin-bottom: 32px;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0,0,0,0.5);\r\n  position: fixed;\r\n  z-index: 2;\r\n  top: 0;\r\n  left: 0;\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n  border-radius: 50%;\r\n  width: 2.5em;\r\n  height: 2.5em;\r\n  -webkit-animation-fill-mode: both;\r\n  animation-fill-mode: both;\r\n  -webkit-animation: load7 1.8s infinite ease-in-out;\r\n  animation: load7 1.8s infinite ease-in-out;\r\n  color: #20bf6b;\r\n  font-size: 10px;\r\n  margin: 80px auto;\r\n  position: relative;\r\n  text-indent: -9999em;\r\n  -webkit-transform: translateZ(0);\r\n  -ms-transform: translateZ(0);\r\n  transform: translateZ(0);\r\n  -webkit-animation-delay: -0.16s;\r\n  animation-delay: -0.16s;\r\n  \r\n  z-index: 3;\r\n\r\n  &:before {\r\n    border-radius: 50%;\r\n    width: 2.5em;\r\n    height: 2.5em;\r\n    -webkit-animation-fill-mode: both;\r\n    animation-fill-mode: both;\r\n    -webkit-animation: load7 1.8s infinite ease-in-out;\r\n    animation: load7 1.8s infinite ease-in-out;\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -3.5em;\r\n    -webkit-animation-delay: -0.32s;\r\n    animation-delay: -0.32s;\r\n  }\r\n  \r\n  &:after {\r\n    border-radius: 50%;\r\n    width: 2.5em;\r\n    height: 2.5em;\r\n    -webkit-animation-fill-mode: both;\r\n    animation-fill-mode: both;\r\n    -webkit-animation: load7 1.8s infinite ease-in-out;\r\n    animation: load7 1.8s infinite ease-in-out;\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 3.5em;\r\n  }\r\n`;\r\n\r\n\r\nconst ImagePredictor = () => {\r\n  const [model, setModel] = useState();\r\n  const [img, setImg] = useState();\r\n  const [prediction, setPrediction] = useState();\r\n  const [showPrediction, setShowPrediction] = useState(false);\r\n\r\n  const readImageData = file =>\r\n    new Promise((resolve, reject) => {\r\n      const fileReader = new FileReader();\r\n      fileReader.onload = () => resolve(fileReader.result);\r\n      fileReader.onerror = () => reject(fileReader.error);\r\n      fileReader.readAsDataURL(file);\r\n    });\r\n\r\n  const selectImage = async (e) => {\r\n    const file = e.target.files[0];\r\n\r\n    setImg(await readImageData(file))\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getMobileNet = async () => {\r\n      const modelData = await mobilenet.load();\r\n      setModel(modelData);\r\n    }\r\n\r\n    if (model === undefined) {\r\n      getMobileNet();\r\n    }\r\n  }, [model]);\r\n\r\n  useEffect(() => {\r\n\r\n    const getPrediction = async () => {\r\n      if (model !== undefined && img !== undefined) {\r\n        const inputImage = document.createElement('img');\r\n        inputImage.src = img;\r\n\r\n        inputImage.onload = async () => {\r\n          const predictionsData = await model.classify(inputImage, 1);\r\n\r\n          let {className, probability} = predictionsData && predictionsData.length > 0 && predictionsData[0];\r\n\r\n          console.log(className);\r\n\r\n          if (className.includes(\"coyote\")) {\r\n            className = \"Coyote\";\r\n          } else if (className.includes(\"cougar\") ||\r\n            className.includes(\"mountain\") ||\r\n            className.includes(\"catamount\") ||\r\n            className.includes(\"puma\") ||\r\n            className.includes(\"panther\")) {\r\n            className = \"Cougar\";\r\n          } else if (className.includes(\"fox\")) {\r\n            className = \"Fox\";\r\n          } else if (className.includes(\"cat\")) {\r\n            className = \"Cat\";\r\n          } else if (className.includes(\"dog\")) {\r\n            className = \"Dog\";\r\n          } else {\r\n            className = `Unknown image. Is it a ${className.split(\",\").map(guess => guess.trim())[0]}?`\r\n          }\r\n\r\n          setPrediction({probability: probability, className: className});\r\n        }\r\n      }\r\n    }\r\n\r\n    if (img && model) {\r\n      getPrediction();\r\n    }\r\n  }, [model, img]);\r\n\r\n  useEffect(() => {\r\n    if (!prediction) {\r\n      setShowPrediction(false);\r\n    } else {\r\n      setTimeout(() => {\r\n        setShowPrediction(true);\r\n      }, 2000);\r\n    }\r\n  }, [prediction]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>What's in the picture? (Coyote, Cougar, Fox, Dog, Cat, or something else?)</h1>\r\n      <h2>\r\n        Image recognition software build on tensorflow\r\n      </h2>\r\n      {\r\n        prediction &&\r\n        showPrediction &&\r\n        <Prediction>\r\n          <div>\r\n            {prediction.className[0].toUpperCase() + prediction.className.slice(1)}\r\n          </div>\r\n          <div>\r\n            {`(${(prediction.probability * 100).toFixed(2)}% sure)`}\r\n          </div>\r\n        </Prediction>\r\n      }\r\n      <ImageContainer>\r\n        {img ?\r\n        <img alt=\"The item to be predicted\" src={img} height={300}/> :\r\n          <EmptyImage/>\r\n        }\r\n      </ImageContainer>\r\n      <ImageButton selectImage={selectImage}\r\n                   setShowPrediction={setShowPrediction}\r\n                   setPrediction={setPrediction}/>\r\n      <div>\r\n        {\r\n          prediction &&\r\n            !showPrediction &&\r\n            <Overlay>\r\n              <Spinner/>\r\n            </Overlay>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePredictor;"]},"metadata":{},"sourceType":"module"}